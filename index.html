<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title>Bingo</title>

<style>
body{
    margin:0;
    background:black;
    font-family:Arial;
    overflow:hidden;
}

/* minimal buttons container */
.controls{
    position:fixed;
    top:10px;
    right:10px;
    display:flex;
    gap:8px;
    z-index:999;
}

/* minimal button style */
.controls button{
    background:rgba(255,255,255,0.08);
    color:white;
    border:1px solid rgba(255,255,255,0.2);
    padding:6px 12px;
    font-size:20px;
    cursor:pointer;
}

.controls button:hover{
    background:rgba(255,255,255,0.18);
}

/* container */
.container{
    width:100vw;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}

/* grid auto scale - คงเดิมทุกประการ */
.grid{
    display:grid;
    grid-template-columns:repeat(6,1fr);
    grid-template-rows:repeat(6,1fr);
    width:95vmin;
    height:95vmin;
    gap:0.8vmin;
}

.cell{
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:6vmin;
    font-weight:bold;
    cursor:pointer;
    position:relative;
}

.color1{background:#800040;color:white;}
.color2{background:#b30000;color:white;}
.color3{background:#e6bf3a;color:white;}
.color4{background:#dddddd;color:black;}

.cell img{
    position:absolute;
    width:100%;
    height:100%;
    object-fit:cover;
    display:none;
}

.cell.open img{
    display:block;
}

.cell.open span{
    display:none;
}

/* --- ส่วนที่เพิ่ม: Pop-up Fullscreen --- */
.popup-overlay {
    display: none; /* ปิดไว้ก่อน */
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.9);
    z-index: 10000;
    justify-content: center;
    align-items: center;
}

.popup-content {
    max-width: 90%;
    max-height: 90%;
    border: 3px solid white;
    box-shadow: 0 0 30px rgba(255,255,255,0.3);
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 30px;
    color: white;
    font-size: 50px;
    font-weight: bold;
    cursor: pointer;
    line-height: 1;
}
</style>
</head>

<body>

<div class="controls">
    <button onclick="resetBoard()" title="Reset">↻</button>
    <button onclick="toggleFullscreen()" title="Fullscreen">⛶</button>
</div>

<div class="container">
    <div class="grid" id="grid"></div>
</div>

<div id="popup" class="popup-overlay" onclick="closePopup()">
    <span class="close-btn">&times;</span>
    <img id="popup-img" class="popup-content">
</div>

<script>

let grid=document.getElementById("grid");
let popup = document.getElementById("popup");
let popupImg = document.getElementById("popup-img");

function toggleFullscreen(){
    if(!document.fullscreenElement)
        document.documentElement.requestFullscreen();
    else
        document.exitFullscreen();
}

function shuffle(array){
    for(let i=array.length-1;i>0;i--){
        let j=Math.floor(Math.random()*(i+1));
        [array[i],array[j]]=[array[j],array[i]];
    }
}

// ฟังก์ชันเปิด Pop-up
function openPopup(src) {
    popupImg.src = src;
    popup.style.display = "flex";
}

// ฟังก์ชันปิด Pop-up
function closePopup() {
    popup.style.display = "none";
}

function createBoard(){

    grid.innerHTML="";

    let images=[];
    for(let i=1;i<=36;i++)
        images.push(i+".png");

    shuffle(images);

    let colors=["color1","color2","color3","color4"];

    for(let i=1;i<=36;i++){

        let cell=document.createElement("div");
        cell.className="cell "+colors[(i-1)%4];

        let span=document.createElement("span");
        span.innerText=i;

        let img=document.createElement("img");
        img.src=images[i-1];

        // แก้ไข Logic การคลิก
        cell.onclick=()=>{
            if(!cell.classList.contains("open")) {
                // ถ้ายังไม่เปิด ให้เปิดรูปในช่อง
                cell.classList.add("open");
            } else {
                // ถ้าเปิดอยู่แล้ว ให้ Pop-up เต็มหน้าจอ
                openPopup(img.src);
            }
        };

        cell.appendChild(span);
        cell.appendChild(img);
        grid.appendChild(cell);
    }
}

function resetBoard(){
    createBoard();
}

createBoard();

</script>

</body>
</html>